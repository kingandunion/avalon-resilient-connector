# -*- coding: utf-8 -*-

"""Generate the Resilient customizations required for avalon"""

from __future__ import print_function
from resilient_circuits.util import *

def codegen_reload_data():
    """Parameters to codegen used to generate the avalon package"""
    reload_params = {"package": u"avalon",
                    "incident_fields": [u"avalon_auto_refresh", u"avalon_auto_refresh_time", u"avalon_last_pull_time", u"avalon_workspace_id"], 
                    "action_fields": [], 
                    "functions_params": [], 
                    "datatables": [], 
                    "message_destinations": [u"avalon_actions"], 
                    "functions": [u"avalon_void"], 
                    "phases": [], 
                    "automatic_tasks": [], 
                    "scripts": [], 
                    "workflows": [],
                    "actions": [u"Avalon: Create Workspace", u"Avalon: Pull Nodes", u"Avalon: Push Artifact", u"Avalon: Push Artifacts", u"Avalon: Start Auto-refresh", u"Avalon: Stop Auto-refresh"] 
                    }
    return reload_params


def customization_data(client=None):
    """Produce any customization definitions (types, fields, message destinations, etc)
       that should be installed by `resilient-circuits customize`
    """

    # This import data contains:
    #   Incident fields:
    #     avalon_auto_refresh
    #     avalon_auto_refresh_time
    #     avalon_last_pull_time
    #     avalon_workspace_id
    #   Message Destinations:
    #     avalon_actions
    #   Functions:
    #     avalon_void
    #   Rules:
    #     Avalon: Create Workspace
    #     Avalon: Pull Nodes
    #     Avalon: Push Artifact
    #     Avalon: Push Artifacts
    #     Avalon: Start Auto-refresh
    #     Avalon: Stop Auto-refresh


    yield ImportDefinition(u"""
eyJpZCI6IDgsICJmaWVsZHMiOiBbeyJjaG9zZW4iOiBmYWxzZSwgImludGVybmFsIjogZmFsc2Us
ICJ1dWlkIjogIjMyZTU4MWZhLTJlNmQtNDk1NC04YjBlLWY1NjYzYzFmNTlmNCIsICJvcGVyYXRp
b25zIjogW10sICJ2YWx1ZXMiOiBbXSwgImNoYW5nZWFibGUiOiB0cnVlLCAiaWQiOiA4MCwgIm5h
bWUiOiAiYXZhbG9uX3dvcmtzcGFjZV9pZCIsICJ0ZXh0IjogIkF2YWxvbjogV29ya3NwYWNlIElE
IiwgInByZWZpeCI6ICJwcm9wZXJ0aWVzIiwgInR5cGVfaWQiOiAwLCAidG9vbHRpcCI6ICJFbnRl
ciBBdmFsb24gV29ya3NwYWNlIElEIHRvIGxpbmsgaXQgdG8gdGhpcyBJbmNpZGVudCAgIiwgInBs
YWNlaG9sZGVyIjogIiIsICJpbnB1dF90eXBlIjogIm51bWJlciIsICJoaWRlX25vdGlmaWNhdGlv
biI6IGZhbHNlLCAiZGVmYXVsdF9jaG9zZW5fYnlfc2VydmVyIjogZmFsc2UsICJibGFua19vcHRp
b24iOiBmYWxzZSwgIm9wZXJhdGlvbl9wZXJtcyI6IHt9LCAicmVhZF9vbmx5IjogZmFsc2UsICJy
aWNoX3RleHQiOiBmYWxzZSwgImV4cG9ydF9rZXkiOiAiaW5jaWRlbnQvYXZhbG9uX3dvcmtzcGFj
ZV9pZCIsICJ0ZW1wbGF0ZXMiOiBbXX0sIHsiY2hvc2VuIjogZmFsc2UsICJpbnRlcm5hbCI6IGZh
bHNlLCAidXVpZCI6ICI1N2NkMjcyYi1jMDExLTQ4N2EtOGIwMS04YTczYmYyMzBhMzAiLCAib3Bl
cmF0aW9ucyI6IFtdLCAidmFsdWVzIjogW10sICJjaGFuZ2VhYmxlIjogdHJ1ZSwgImlkIjogNzgs
ICJuYW1lIjogImF2YWxvbl9sYXN0X3B1bGxfdGltZSIsICJ0ZXh0IjogIkF2YWxvbjogTGFzdCBQ
dWxsIFRpbWUiLCAicHJlZml4IjogInByb3BlcnRpZXMiLCAidHlwZV9pZCI6IDAsICJ0b29sdGlw
IjogIlRpbWUgb2YgdGhlIGxhc3QgcHVsbCBmcm9tIEF2YWxvbiIsICJwbGFjZWhvbGRlciI6ICIi
LCAiaW5wdXRfdHlwZSI6ICJkYXRldGltZXBpY2tlciIsICJoaWRlX25vdGlmaWNhdGlvbiI6IGZh
bHNlLCAiZGVmYXVsdF9jaG9zZW5fYnlfc2VydmVyIjogZmFsc2UsICJibGFua19vcHRpb24iOiBm
YWxzZSwgIm9wZXJhdGlvbl9wZXJtcyI6IHt9LCAicmVhZF9vbmx5IjogZmFsc2UsICJyaWNoX3Rl
eHQiOiBmYWxzZSwgImV4cG9ydF9rZXkiOiAiaW5jaWRlbnQvYXZhbG9uX2xhc3RfcHVsbF90aW1l
IiwgInRlbXBsYXRlcyI6IFtdfSwgeyJjaG9zZW4iOiBmYWxzZSwgImludGVybmFsIjogZmFsc2Us
ICJ1dWlkIjogIjA2YTJhYjhmLTdkNjktNDk2Yi1iMWZhLTBmNjc5YTU2MzNhNiIsICJvcGVyYXRp
b25zIjogW10sICJ2YWx1ZXMiOiBbXSwgImNoYW5nZWFibGUiOiB0cnVlLCAiaWQiOiA4MSwgIm5h
bWUiOiAiYXZhbG9uX2F1dG9fcmVmcmVzaCIsICJ0ZXh0IjogIkF2YWxvbjogQXV0byBSZWZyZXNo
IiwgInByZWZpeCI6ICJwcm9wZXJ0aWVzIiwgInR5cGVfaWQiOiAwLCAidG9vbHRpcCI6ICJTZXQg
dG8gWWVzIHRvIGF1dG9tYXRpY2FsbHkgcHVsbCBub2RlcyBmcm9tIEF2YWxvbiIsICJwbGFjZWhv
bGRlciI6ICIiLCAiaW5wdXRfdHlwZSI6ICJib29sZWFuIiwgImhpZGVfbm90aWZpY2F0aW9uIjog
ZmFsc2UsICJkZWZhdWx0X2Nob3Nlbl9ieV9zZXJ2ZXIiOiBmYWxzZSwgImJsYW5rX29wdGlvbiI6
IGZhbHNlLCAib3BlcmF0aW9uX3Blcm1zIjoge30sICJyZWFkX29ubHkiOiBmYWxzZSwgInJpY2hf
dGV4dCI6IGZhbHNlLCAiZXhwb3J0X2tleSI6ICJpbmNpZGVudC9hdmFsb25fYXV0b19yZWZyZXNo
IiwgInRlbXBsYXRlcyI6IFtdfSwgeyJjaG9zZW4iOiBmYWxzZSwgImludGVybmFsIjogZmFsc2Us
ICJ1dWlkIjogIjgzYWY1NzYyLTA4MmUtNDlhMS1iNDhlLTUyMThiNmIxNjAwNiIsICJvcGVyYXRp
b25zIjogW10sICJ2YWx1ZXMiOiBbXSwgImNoYW5nZWFibGUiOiB0cnVlLCAiaWQiOiA3OSwgIm5h
bWUiOiAiYXZhbG9uX2F1dG9fcmVmcmVzaF90aW1lIiwgInRleHQiOiAiQXZhbG9uOiBBdXRvIFJl
ZnJlc2ggVGltZSIsICJwcmVmaXgiOiAicHJvcGVydGllcyIsICJ0eXBlX2lkIjogMCwgInRvb2x0
aXAiOiAiQXZhbG9uIGF1dG8tcmVmcmVzaCBpbnRlcnZhbCIsICJwbGFjZWhvbGRlciI6ICJNaW51
dGVzIiwgImlucHV0X3R5cGUiOiAibnVtYmVyIiwgImhpZGVfbm90aWZpY2F0aW9uIjogZmFsc2Us
ICJkZWZhdWx0X2Nob3Nlbl9ieV9zZXJ2ZXIiOiBmYWxzZSwgImJsYW5rX29wdGlvbiI6IGZhbHNl
LCAib3BlcmF0aW9uX3Blcm1zIjoge30sICJyZWFkX29ubHkiOiBmYWxzZSwgInJpY2hfdGV4dCI6
IGZhbHNlLCAiZXhwb3J0X2tleSI6ICJpbmNpZGVudC9hdmFsb25fYXV0b19yZWZyZXNoX3RpbWUi
LCAidGVtcGxhdGVzIjogW119XSwgInBoYXNlcyI6IFtdLCAib3ZlcnJpZGVzIjogW10sICJhY3Rp
b25zIjogW3siaWQiOiAxNCwgIm5hbWUiOiAiQXZhbG9uOiBDcmVhdGUgV29ya3NwYWNlIiwgInR5
cGUiOiAxLCAib2JqZWN0X3R5cGUiOiAiaW5jaWRlbnQiLCAiY29uZGl0aW9ucyI6IFt7Im1ldGhv
ZCI6ICJub3RfaGFzX2FfdmFsdWUiLCAiZmllbGRfbmFtZSI6ICJpbmNpZGVudC5wcm9wZXJ0aWVz
LmF2YWxvbl93b3Jrc3BhY2VfaWQiLCAidmFsdWUiOiBudWxsLCAidHlwZSI6IG51bGwsICJldmFs
dWF0aW9uX2lkIjogbnVsbH1dLCAiYXV0b21hdGlvbnMiOiBbXSwgIm1lc3NhZ2VfZGVzdGluYXRp
b25zIjogWyJhdmFsb25fYWN0aW9ucyJdLCAid29ya2Zsb3dzIjogW10sICJ2aWV3X2l0ZW1zIjog
W10sICJ0aW1lb3V0X3NlY29uZHMiOiA4NjQwMCwgInV1aWQiOiAiMjYxZjZhZDItYmE2OC00Y2Qx
LWFkMjMtNmI1ZmI5Y2NjNjliIiwgImV4cG9ydF9rZXkiOiAiQXZhbG9uOiBDcmVhdGUgV29ya3Nw
YWNlIiwgImxvZ2ljX3R5cGUiOiAiYWxsIn0sIHsiaWQiOiAxNSwgIm5hbWUiOiAiQXZhbG9uOiBQ
dWxsIE5vZGVzIiwgInR5cGUiOiAxLCAib2JqZWN0X3R5cGUiOiAiaW5jaWRlbnQiLCAiY29uZGl0
aW9ucyI6IFt7Im1ldGhvZCI6ICJoYXNfYV92YWx1ZSIsICJmaWVsZF9uYW1lIjogImluY2lkZW50
LnByb3BlcnRpZXMuYXZhbG9uX3dvcmtzcGFjZV9pZCIsICJ2YWx1ZSI6IG51bGwsICJ0eXBlIjog
bnVsbCwgImV2YWx1YXRpb25faWQiOiBudWxsfV0sICJhdXRvbWF0aW9ucyI6IFtdLCAibWVzc2Fn
ZV9kZXN0aW5hdGlvbnMiOiBbImF2YWxvbl9hY3Rpb25zIl0sICJ3b3JrZmxvd3MiOiBbXSwgInZp
ZXdfaXRlbXMiOiBbXSwgInRpbWVvdXRfc2Vjb25kcyI6IDg2NDAwLCAidXVpZCI6ICJhZmNmOTE4
My04NGE5LTRjOGEtOGFhYy04NTEwYWQwMjk3MDAiLCAiZXhwb3J0X2tleSI6ICJBdmFsb246IFB1
bGwgTm9kZXMiLCAibG9naWNfdHlwZSI6ICJhbGwifSwgeyJpZCI6IDE2LCAibmFtZSI6ICJBdmFs
b246IFB1c2ggQXJ0aWZhY3QiLCAidHlwZSI6IDEsICJvYmplY3RfdHlwZSI6ICJhcnRpZmFjdCIs
ICJjb25kaXRpb25zIjogW3sibWV0aG9kIjogImluIiwgImZpZWxkX25hbWUiOiAiYXJ0aWZhY3Qu
dHlwZSIsICJ2YWx1ZSI6IFsiSVAgQWRkcmVzcyIsICJETlMgTmFtZSIsICJVUkwiLCAiRW1haWwg
U2VuZGVyIiwgIk1hbHdhcmUgTUQ1IEhhc2giLCAiTWFsd2FyZSBTSEEtMSBIYXNoIiwgIk1hbHdh
cmUgU0hBLTI1NiBIYXNoIl0sICJ0eXBlIjogbnVsbCwgImV2YWx1YXRpb25faWQiOiBudWxsfSwg
eyJtZXRob2QiOiAiaGFzX2FfdmFsdWUiLCAiZmllbGRfbmFtZSI6ICJpbmNpZGVudC5wcm9wZXJ0
aWVzLmF2YWxvbl93b3Jrc3BhY2VfaWQiLCAidmFsdWUiOiBudWxsLCAidHlwZSI6IG51bGwsICJl
dmFsdWF0aW9uX2lkIjogbnVsbH0sIHsibWV0aG9kIjogIm5vdF9jb250YWlucyIsICJmaWVsZF9u
YW1lIjogImFydGlmYWN0LmRlc2NyaXB0aW9uIiwgInZhbHVlIjogIkF2YWxvbiIsICJ0eXBlIjog
bnVsbCwgImV2YWx1YXRpb25faWQiOiBudWxsfV0sICJhdXRvbWF0aW9ucyI6IFtdLCAibWVzc2Fn
ZV9kZXN0aW5hdGlvbnMiOiBbImF2YWxvbl9hY3Rpb25zIl0sICJ3b3JrZmxvd3MiOiBbXSwgInZp
ZXdfaXRlbXMiOiBbXSwgInRpbWVvdXRfc2Vjb25kcyI6IDg2NDAwLCAidXVpZCI6ICJlOTA4Nzhk
OC1iYzVkLTQ4YjYtODFjZC00MTQ4NDE1ZThiNTMiLCAiZXhwb3J0X2tleSI6ICJBdmFsb246IFB1
c2ggQXJ0aWZhY3QiLCAibG9naWNfdHlwZSI6ICJhbGwifSwgeyJpZCI6IDE3LCAibmFtZSI6ICJB
dmFsb246IFB1c2ggQXJ0aWZhY3RzIiwgInR5cGUiOiAxLCAib2JqZWN0X3R5cGUiOiAiaW5jaWRl
bnQiLCAiY29uZGl0aW9ucyI6IFt7Im1ldGhvZCI6ICJoYXNfYV92YWx1ZSIsICJmaWVsZF9uYW1l
IjogImluY2lkZW50LnByb3BlcnRpZXMuYXZhbG9uX3dvcmtzcGFjZV9pZCIsICJ2YWx1ZSI6IG51
bGwsICJ0eXBlIjogbnVsbCwgImV2YWx1YXRpb25faWQiOiBudWxsfV0sICJhdXRvbWF0aW9ucyI6
IFtdLCAibWVzc2FnZV9kZXN0aW5hdGlvbnMiOiBbImF2YWxvbl9hY3Rpb25zIl0sICJ3b3JrZmxv
d3MiOiBbXSwgInZpZXdfaXRlbXMiOiBbXSwgInRpbWVvdXRfc2Vjb25kcyI6IDg2NDAwLCAidXVp
ZCI6ICI0YjUxYjBjOC0zZDI5LTRjMWMtOTQxMy03MTA5YzhkZDVjNTIiLCAiZXhwb3J0X2tleSI6
ICJBdmFsb246IFB1c2ggQXJ0aWZhY3RzIiwgImxvZ2ljX3R5cGUiOiAiYWxsIn0sIHsiaWQiOiAx
OCwgIm5hbWUiOiAiQXZhbG9uOiBTdGFydCBBdXRvLXJlZnJlc2giLCAidHlwZSI6IDEsICJvYmpl
Y3RfdHlwZSI6ICJpbmNpZGVudCIsICJjb25kaXRpb25zIjogW3sibWV0aG9kIjogIm5vdF9lcXVh
bHMiLCAiZmllbGRfbmFtZSI6ICJpbmNpZGVudC5wcm9wZXJ0aWVzLmF2YWxvbl9hdXRvX3JlZnJl
c2giLCAidmFsdWUiOiB0cnVlLCAidHlwZSI6IG51bGwsICJldmFsdWF0aW9uX2lkIjogbnVsbH0s
IHsibWV0aG9kIjogImhhc19hX3ZhbHVlIiwgImZpZWxkX25hbWUiOiAiaW5jaWRlbnQucHJvcGVy
dGllcy5hdmFsb25fd29ya3NwYWNlX2lkIiwgInZhbHVlIjogbnVsbCwgInR5cGUiOiBudWxsLCAi
ZXZhbHVhdGlvbl9pZCI6IG51bGx9XSwgImF1dG9tYXRpb25zIjogW3sidHlwZSI6ICJtb2RpZnlf
ZmllbGQiLCAidHlwZV9pZCI6ICJpbmNpZGVudCIsICJmaWVsZCI6ICJhdmFsb25fYXV0b19yZWZy
ZXNoIiwgIm9wZXJhdGlvbiI6ICJzZXRfZmllbGQiLCAidmFsdWUiOiB0cnVlfV0sICJtZXNzYWdl
X2Rlc3RpbmF0aW9ucyI6IFsiYXZhbG9uX2FjdGlvbnMiXSwgIndvcmtmbG93cyI6IFtdLCAidmll
d19pdGVtcyI6IFtdLCAidGltZW91dF9zZWNvbmRzIjogODY0MDAsICJ1dWlkIjogIjUyNDIwOWI5
LWE2OTYtNDgxZS1iOWNjLWRkZDAxOGJjNDE5OSIsICJleHBvcnRfa2V5IjogIkF2YWxvbjogU3Rh
cnQgQXV0by1yZWZyZXNoIiwgImxvZ2ljX3R5cGUiOiAiYWxsIn0sIHsiaWQiOiAxOSwgIm5hbWUi
OiAiQXZhbG9uOiBTdG9wIEF1dG8tcmVmcmVzaCIsICJ0eXBlIjogMSwgIm9iamVjdF90eXBlIjog
ImluY2lkZW50IiwgImNvbmRpdGlvbnMiOiBbeyJtZXRob2QiOiAiZXF1YWxzIiwgImZpZWxkX25h
bWUiOiAiaW5jaWRlbnQucHJvcGVydGllcy5hdmFsb25fYXV0b19yZWZyZXNoIiwgInZhbHVlIjog
dHJ1ZSwgInR5cGUiOiBudWxsLCAiZXZhbHVhdGlvbl9pZCI6IG51bGx9XSwgImF1dG9tYXRpb25z
IjogW10sICJtZXNzYWdlX2Rlc3RpbmF0aW9ucyI6IFsiYXZhbG9uX2FjdGlvbnMiXSwgIndvcmtm
bG93cyI6IFtdLCAidmlld19pdGVtcyI6IFtdLCAidGltZW91dF9zZWNvbmRzIjogODY0MDAsICJ1
dWlkIjogImNjNmZjZjk3LTJjYWItNGZjOC05YTIyLWYyMDQwOTU0NGMzYSIsICJleHBvcnRfa2V5
IjogIkF2YWxvbjogU3RvcCBBdXRvLXJlZnJlc2giLCAibG9naWNfdHlwZSI6ICJhbGwifV0sICJs
YXlvdXRzIjogW10sICJub3RpZmljYXRpb25zIjogbnVsbCwgInRpbWVmcmFtZXMiOiBudWxsLCAi
aW5kdXN0cmllcyI6IG51bGwsICJyZWd1bGF0b3JzIjogbnVsbCwgImdlb3MiOiBudWxsLCAiZnVu
Y3Rpb25zIjogW3siaWQiOiA0LCAibmFtZSI6ICJhdmFsb25fdm9pZCIsICJkZXNjcmlwdGlvbiI6
IHsiZm9ybWF0IjogInRleHQiLCAiY29udGVudCI6ICJWb2lkIGZ1bmN0aW9uIHRvIGFsbG93IGN1
c3RvbWl6YXRpb25zIGV4cG9ydCBhbmQgaW1wb3J0In0sICJ1dWlkIjogIjc2MDkxMWY3LTdlYzkt
NGFlYy04YWQwLWE1NGRkZTU1YmVlMiIsICJ2ZXJzaW9uIjogMywgImNyZWF0b3IiOiB7ImlkIjog
MSwgInR5cGUiOiAidXNlciIsICJuYW1lIjogInZhbEBraW5nYW5kdW5pb24uY29tIiwgImRpc3Bs
YXlfbmFtZSI6ICJWYWwgS2FudGNoZXYifSwgIndvcmtmbG93cyI6IFtdLCAiZGlzcGxheV9uYW1l
IjogImF2YWxvbl92b2lkIiwgImRlc3RpbmF0aW9uX2hhbmRsZSI6ICJhdmFsb25fYWN0aW9ucyIs
ICJleHBvcnRfa2V5IjogImF2YWxvbl92b2lkIiwgImxhc3RfbW9kaWZpZWRfYnkiOiB7ImlkIjog
MSwgInR5cGUiOiAidXNlciIsICJuYW1lIjogInZhbEBraW5nYW5kdW5pb24uY29tIiwgImRpc3Bs
YXlfbmFtZSI6ICJWYWwgS2FudGNoZXYifSwgImxhc3RfbW9kaWZpZWRfdGltZSI6IDE1NTU1NDk5
ODcxNjIsICJ2aWV3X2l0ZW1zIjogW119XSwgInNlcnZlcl92ZXJzaW9uIjogeyJtYWpvciI6IDMw
LCAibWlub3IiOiAwLCAiYnVpbGRfbnVtYmVyIjogMzQ3NiwgInZlcnNpb24iOiAiMzAuMC4zNDc2
In0sICJleHBvcnRfZm9ybWF0X3ZlcnNpb24iOiAyLCAiZXhwb3J0X2RhdGUiOiAxNTU1NTUwMTEy
NDE3LCAiaW5jaWRlbnRfdHlwZXMiOiBbeyJ1cGRhdGVfZGF0ZSI6IDE1NTU1NjE4MTE4MjAsICJj
cmVhdGVfZGF0ZSI6IDE1NTU1NjE4MTE4MjAsICJ1dWlkIjogImJmZWVjMmQ0LTM3NzAtMTFlOC1h
ZDM5LTRhMDAwNDA0NGFhMCIsICJkZXNjcmlwdGlvbiI6ICJDdXN0b21pemF0aW9uIFBhY2thZ2Vz
IChpbnRlcm5hbCkiLCAiZXhwb3J0X2tleSI6ICJDdXN0b21pemF0aW9uIFBhY2thZ2VzIChpbnRl
cm5hbCkiLCAibmFtZSI6ICJDdXN0b21pemF0aW9uIFBhY2thZ2VzIChpbnRlcm5hbCkiLCAiZW5h
YmxlZCI6IGZhbHNlLCAic3lzdGVtIjogZmFsc2UsICJwYXJlbnRfaWQiOiBudWxsLCAiaGlkZGVu
IjogZmFsc2UsICJpZCI6IDB9XSwgImF1dG9tYXRpY190YXNrcyI6IFtdLCAibWVzc2FnZV9kZXN0
aW5hdGlvbnMiOiBbeyJuYW1lIjogImF2YWxvbl9hY3Rpb25zIiwgInByb2dyYW1tYXRpY19uYW1l
IjogImF2YWxvbl9hY3Rpb25zIiwgImRlc3RpbmF0aW9uX3R5cGUiOiAwLCAiZXhwZWN0X2FjayI6
IHRydWUsICJ1c2VycyI6IFsidmFsQGtpbmdhbmR1bmlvbi5jb20iXSwgInV1aWQiOiAiYzMzMjUw
ZjQtNzgxMS00NWI1LTg1OGItZDU5N2QyMjY5YzgxIiwgImV4cG9ydF9rZXkiOiAiYXZhbG9uX2Fj
dGlvbnMifV0sICJ0YXNrX29yZGVyIjogW10sICJhY3Rpb25fb3JkZXIiOiBbXSwgInR5cGVzIjog
W10sICJzY3JpcHRzIjogW10sICJpbmNpZGVudF9hcnRpZmFjdF90eXBlcyI6IFtdLCAid29ya2Zs
b3dzIjogW10sICJyb2xlcyI6IFtdLCAid29ya3NwYWNlcyI6IFtdfQ==
"""
    )